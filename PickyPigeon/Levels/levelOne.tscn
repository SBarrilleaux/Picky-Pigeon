[gd_scene load_steps=7 format=4 uid="uid://b3ox4v1uf6k3o"]

[ext_resource type="Texture2D" uid="uid://dtwqv0vqix6pi" path="res://BackgroundAndUI/BackgroundTiles.png" id="1_voe8m"]
[ext_resource type="Script" uid="uid://du5rertq388rh" path="res://scripts/board_manager.gd" id="2_2qc8i"]

[sub_resource type="Gradient" id="Gradient_7ngup"]
colors = PackedColorArray(0.1007, 0.155768, 0.19, 1, 0.325845, 0.371292, 0.765205, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_v8fcf"]
gradient = SubResource("Gradient_7ngup")
width = 128
height = 128
fill_from = Vector2(0.472477, 0)
fill_to = Vector2(0.474771, 1)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6stna"]
texture = ExtResource("1_voe8m")
texture_region_size = Vector2i(256, 256)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_o68rb"]
tile_size = Vector2i(256, 256)
sources/0 = SubResource("TileSetAtlasSource_6stna")

[node name="Node3D" type="Node3D"]

[node name="Board" type="Node2D" parent="."]

[node name="Background" type="TextureRect" parent="Board"]
offset_right = 1928.0
offset_bottom = 1102.0
texture = SubResource("GradientTexture2D_v8fcf")

[node name="SideBackground" type="ColorRect" parent="Board/Background"]
visible = false
layout_mode = 0
offset_right = 330.0
offset_bottom = 552.0
color = Color(0.6885, 0, 0.81, 0.180392)

[node name="SideBackground2" type="ColorRect" parent="Board/Background"]
visible = false
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -235.0
offset_bottom = 1105.0
grow_horizontal = 0
color = Color(0.690196, 0, 0.811765, 0.180392)

[node name="Node2D" type="Node2D" parent="Board"]
position = Vector2(320, 20)
scale = Vector2(0.5, 0.5)

[node name="TileMapLayer" type="TileMapLayer" parent="Board/Node2D"]
tile_map_data = PackedByteArray("AAAFAAMAAAAAAAAAAAAEAAMAAAAAAAAAAAADAAMAAAAAAAAAAAACAAMAAAAAAAAAAAABAAMAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAADAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAEAAAAAAAAAAAAEAAEAAAAAAAAAAAADAAEAAAAAAAAAAAACAAEAAAAAAAAAAAABAAEAAAAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAADAAQAAAAAAAAAAAACAAQAAAAAAAAAAAABAAQAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAAAAAACAAcAAAAAAAAAAAADAAcAAAAAAAAAAAAEAAcAAAAAAAAAAAAFAAcAAAAAAAAAAAAGAAcAAAAAAAAAAAAHAAcAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAYAAAAAAAAAAAAIAAUAAAAAAAAAAAAHAAUAAAAAAAAAAAAGAAUAAAAAAAAAAAAFAAUAAAAAAAAAAAAEAAUAAAAAAAAAAAADAAUAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAADAAYAAAAAAAAAAAAEAAYAAAAAAAAAAAAFAAYAAAAAAAAAAAAGAAYAAAAAAAAAAAAHAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAAAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_o68rb")

[node name="Grid" type="Node2D" parent="Board"]
script = ExtResource("2_2qc8i")
width = 10
height = 8
xStart = 385
yStart = 980
offset = 128
yNibbleOffset = 2

[node name="DestroyTimer" type="Timer" parent="Board/Grid"]
wait_time = 0.2
one_shot = true

[node name="CollapseTimer" type="Timer" parent="Board/Grid"]
wait_time = 0.1
one_shot = true

[node name="RefillTimer" type="Timer" parent="Board/Grid"]
wait_time = 0.4
one_shot = true

[connection signal="timeout" from="Board/Grid/DestroyTimer" to="Board/Grid" method="_on_destroy_time_timeout"]
[connection signal="timeout" from="Board/Grid/CollapseTimer" to="Board/Grid" method="_on_collapse_timer_timeout"]
[connection signal="timeout" from="Board/Grid/RefillTimer" to="Board/Grid" method="_on_refill_timer_timeout"]
